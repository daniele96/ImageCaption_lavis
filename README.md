# LAVIS Image Captioning API

This project is a **REST API wrapper for image captioning** using [Salesforce-LAVIS](https://github.com/salesforce/LAVIS).  
It allows you to upload images and get automatic captions generated by a pre-trained BLIP model.

---

## Features

- FastAPI-based REST API
- Uses BLIP (base_coco) model from LAVIS
- Accepts image files and returns captions in JSON format
- Easy to run using Docker

---

## Installation (Docker)

Build and run the Docker container:

```bash
docker build -t lavis-caption-api .
docker run -p 8000:8000 lavis-caption-api
```

The API will be available at: `http://localhost:8000`

---

## API Usage

### Endpoint: `POST /caption`

**Request:** upload an image as a file.

```bash
curl -X POST "http://localhost:8000/caption"   -F "file=@path_to_your_image.jpg"
```

**Response:**

```json
{
  "caption": "A dog playing with a ball in the park."
}
```

---

## Python Example

```python
import requests

url = "http://localhost:8000/caption"
files = {"file": open("path_to_image.jpg", "rb")}
response = requests.post(url, files=files)
print(response.json())
```

---

## Requirements

- Python 3.10+
- PyTorch 2.2.2
- torchvision 0.17.2
- Pillow 10.3.0
- FastAPI 0.111.0
- uvicorn 0.30.0
- salesforce-lavis 1.0.2
- numpy, tqdm, python-multipart, requests

---

## License

This project is licensed under the **MIT License**.  
It is based on [Salesforce-LAVIS](https://github.com/salesforce/LAVIS), which is licensed under **Apache 2.0**.

You are free to use, modify, and distribute this software under the terms of the MIT License.
